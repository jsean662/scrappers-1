import scrapy
from builderprojects.items import BuilderprojectsItem
from scrapy.spiders import Spider
from scrapy.spiders import CrawlSpider, Rule
from scrapy.linkextractors import LinkExtractor
from scrapy.selector import Selector
from scrapy.selector import HtmlXPathSelector
from scrapy.http import Request
import json
from scrapy.selector import XmlXPathSelector
import lxml.etree as etree
from urlparse import urljoin
import urllib
import time
from datetime import datetime as dt

class PropSellSpider(Spider):
	name = "BuilderMumbai"
	names = [100018, 100022, 100025, 100027, 100028, 100052, 100059, 100070, 100089, 100111, 100138, 100151, 100153, 100155, 100157, 100159, 100164, 100168, 100170, 100171, 100172, 100173, 100199, 100202, 100205, 100308, 100309, 100310, 100317, 100318, 100323, 100327, 100330, 100341, 100354, 100355, 100357, 100365, 100378, 100379, 100381, 100386, 100387, 100389, 100390, 100394, 100398, 100399, 100401, 100403, 100409, 100410, 100411, 100412, 100414, 100416, 100419, 100423, 100428, 100432, 100434, 100435, 100436, 100440, 100444, 100447, 100448, 100458, 100470, 100484, 100491, 100492, 100494, 100495, 100498, 100499, 100500, 100501, 100502, 100504, 100505, 100511, 100517, 100518, 100521, 100525, 100533, 100547, 100561, 100565, 100576, 100583, 100586, 100593, 100598, 100599, 100600, 100603, 100605, 100608, 100609, 100611, 100614, 100615, 100616, 100617, 100618, 100619, 100620, 100621, 100622, 100623, 100625, 100625, 100626, 100628, 100629, 100630, 100631, 100632, 100634, 100637, 100638, 100639, 100640, 100649, 100665, 100674, 100675, 100693, 100696, 100724, 100755, 100756, 100766, 100790, 100799, 100808, 100811, 100815, 100816, 100817, 100818, 100822, 100853, 100879, 100880, 100893, 100901, 100904, 100908, 100915, 100916, 100931, 100948, 100954, 100956, 100961, 100964, 100982, 101011, 101019, 101053, 101054, 101057, 101065, 101075, 101077, 101078, 101080, 101083, 101090, 101101, 101107, 101112, 101128, 101144, 101146, 101155, 101158, 101162, 101174, 101175, 101182, 101197, 101213, 101214, 101215, 101236, 101259, 101261, 101262, 101262, 101267, 101268, 101270, 101271, 101272, 101273, 101275, 101279, 101281, 101282, 101284, 101285, 101287, 101288, 101289, 101292, 101294, 101295, 101296, 101297, 101298, 101301, 101302, 101303, 101304, 101305, 101306, 101310, 101311, 101312, 101313, 101314, 101315, 101316, 101318, 101319, 101322, 101323, 101332, 101336, 101341, 101349, 101351, 101358, 101373, 101381, 101386, 101409, 101424, 101425, 101427, 101428, 101430, 101435, 101436, 101444, 101452, 101455, 101466, 101466, 101468, 101481, 101486, 101489, 101490, 101496, 101502, 101514, 101522, 101524, 101525, 101529, 101531, 101532, 101533, 101538, 101547, 101558, 101559, 101573, 101574, 101591, 101594, 101597, 101603, 101609, 101615, 101622, 101624, 101625, 101627, 101636, 101638, 101664, 101665, 101669, 101670, 101675, 101679, 101684, 101698, 101699, 101700, 101701, 101716, 101719, 101721, 101724, 101725, 101734, 101739, 101750, 101752, 101758, 101760, 101770, 101771, 101772, 101777, 101785, 101795, 101802, 101814, 101833, 101841, 101842, 101847, 101849, 101854, 101862, 101877, 101879, 101901, 101904, 101913, 101929, 101942, 101945, 101946, 101955, 101969, 101970, 101978, 101984, 101988, 101991, 101992, 101993, 101994, 101997, 102000, 102001, 102002, 102004, 102009, 102011, 102015, 102016, 102017, 102027, 102052, 102055, 102056, 102063, 102070, 102082, 102086, 102093, 102097, 102101, 102111, 102127, 102128, 102130, 102131, 102147, 102148, 102159, 102179, 102180, 102183, 102186, 102189, 102192, 102194, 102196, 102197, 102199, 102201, 102205, 102206, 102207, 102216, 102222, 102224, 102225, 102232, 102234, 102236, 102237, 102239, 102242, 102243, 102246, 102247, 102251, 102254, 102255, 102262, 102263, 102264, 102265, 102268, 102269, 102274, 102278, 102279, 102280, 102285, 102286, 102287, 102289, 102296, 102298, 102310, 102315, 102316, 102321, 102323, 102325, 102330, 102332, 102334, 102338, 102340, 102343, 102344, 102350, 102351, 102355, 102357, 102358, 102370, 102375, 102377, 102385, 102397, 102404, 102416, 102422, 102429, 102431, 102431, 102432, 102433, 102437, 102455, 102461, 102473, 102477, 102479, 102481, 102481, 102483, 102487, 102488, 102490, 102491, 102495, 102498, 102501, 102505, 102507, 102522, 102527, 102528, 102537, 102560, 102562, 102563, 102570, 102574, 102585, 102592, 102593, 102594, 102595, 102596, 102597, 102622, 102658, 102670, 102710, 102785, 102788, 102790, 102798, 102820, 102826, 102847, 102907, 102908, 102909, 102912, 102925, 102932, 102933, 102934, 102935, 102936, 102941, 102943, 102944, 102948, 102949, 102951, 102952, 102953, 102954, 102955, 102956, 102971, 102972, 102974, 102975, 102976, 102977, 102979, 102981, 102983, 102985, 102989, 102990, 102991, 102992, 102994, 102995, 102996, 102997, 102998, 103000, 103001, 103002, 103004, 103005, 103007, 103008, 103009, 103010, 103012, 103013, 103016, 103018, 103019, 103021, 103024, 103026, 103027, 103030, 103031, 103032, 103034, 103036, 103038, 103039, 103040, 103041, 103042, 103043, 103047, 103048, 103049, 103050, 103051, 103055, 103056, 103058, 103067, 103071, 103073, 103079, 103081, 103089, 103096, 103107, 103108, 103115, 103116, 103117, 103119, 103120, 103126, 103127, 103130, 103133, 103134, 103135, 103136, 103137, 103138, 103139, 103141, 103144, 103147, 103148, 103149, 103150, 103151, 103152, 103159, 103163, 103166, 103167, 103169, 103174, 103175, 103177, 103179, 103180, 103185, 103187, 103191, 103206, 103210, 103215, 103216, 103219, 103221, 103225, 103227, 103231, 103233, 103237, 103239, 103241, 103242, 103244, 103248, 103255, 103261, 103277, 103283, 103285, 103287, 103298, 103301, 103306, 103308, 103311, 103313, 103314, 103315, 103319, 103320, 103324, 103333, 103342, 103343, 103344, 103348, 103351, 103352, 103360, 103361, 103363, 103370, 103371, 103390, 103392, 103394, 103395, 103397, 103398, 103402, 103404, 103406, 103408, 103410, 103426, 103427, 103438, 103439, 103441, 103442, 103445, 103446, 103449, 103450, 103451, 103453, 103454, 103455, 103457, 103458, 103459, 103461, 103463, 103465, 103474, 103475, 103480, 103487, 103488, 103490, 103492, 103494, 103511, 103513, 103515, 103516, 103523, 103533, 103544, 103545, 103546, 103550, 103557, 103564, 103567, 103568, 103569, 103592, 103593, 103596, 103597, 103598, 103601, 103602, 103604, 103606, 103607, 103609, 103612, 103617, 103620, 103626, 103628, 103629, 103631, 103633, 103634, 103641, 103653, 103663, 103678, 103680, 103689, 103695, 103697, 103708, 103716, 103718, 103720, 103724, 103725, 103727, 103732, 103735, 103737, 103738, 103740, 103741, 103742, 103745, 103746, 103747, 103749, 103751, 103752, 103756, 103758, 103759, 103760, 103762, 103763, 103766, 103767, 103769, 103771, 103772, 103773, 103774, 103776, 103777, 103778, 103779, 103780, 103781, 103783, 103784, 103785, 103786, 103787, 103788, 103789, 103790, 103791, 103792, 103794, 103796, 103803, 103804, 103808, 103809, 103812, 103818, 103821, 103829, 103831, 103833, 103858, 103885, 103895, 103898, 103905, 103915, 103925, 103930, 103934, 103938, 103963, 103965, 103966, 103967, 103974, 103975, 103977, 103979, 103987, 103988, 103989, 103990, 103992, 103995, 104002, 104005, 104006, 104007, 104010, 104015, 104016, 104019, 104022, 104024, 104026, 104029, 104030, 104034, 104038, 104039, 104040, 104042, 104043, 104056, 104058, 104070, 104081, 104082, 104083, 104089, 104094, 104095, 104097, 104098, 104108, 104112, 104115, 104118, 104119, 104122, 104123, 104126, 104128, 104133, 104155, 104159, 104160, 104161, 104162, 104163, 104164, 104168, 104170, 104171, 104172, 104174, 104175, 104176, 104177, 104181, 104183, 104184, 104190, 104195, 104198, 104199, 104202, 104203, 104204, 104205, 104207, 104210, 104214, 104215, 104216, 104218, 104231, 104232, 104234, 104236, 104242, 104247, 104262, 104263, 104265, 104266, 104268, 104281, 104283, 104298, 104311, 104316, 104319, 104320, 104321, 104325, 104327, 104329, 104333, 104334, 104336, 104345, 104347, 104353, 104358, 104359, 104365, 104370, 104373, 104375, 104436, 104446, 104452, 104460, 104469, 104486, 104488, 104507, 104517, 104518, 104520, 104537, 104539, 104542, 104544, 104556, 104558, 104632, 104638, 104641, 104647, 104658, 104669, 104715, 104744, 104747, 104750, 104762, 104784, 104786, 104788, 104859, 104879, 104882, 104887, 104906, 104913, 104917, 104918, 104925, 104931, 104933, 104935, 104950, 104952, 104962, 104969, 104971, 104972, 104974, 104979, 105001, 105020, 105027, 105038, 105039, 105041, 105042, 105044, 105045, 105046, 105047, 105048, 105050, 105052, 105053, 105054, 105055, 105058, 105060, 105063, 105064, 105067, 105068, 105069, 105072, 105074, 105075, 105077, 105080, 105081, 105083, 105085, 105086, 105088, 105094, 105099, 105100, 105114, 105117, 105121, 105137, 105142, 105147, 105155, 105158, 105160, 105166, 105186, 105189, 105190, 105192, 105194, 105196, 105199, 105200, 105201, 105204, 105208, 105209, 105211, 105215, 105216, 105218, 105220, 105223, 105227, 105231, 105237, 105243, 105262, 105279, 105280, 105285, 105321, 105329, 105347, 105369, 105375, 105381, 105396, 105437, 105440, 105453, 105457, 105463, 105470, 105474, 105489, 105491, 105492, 105517, 105519, 105526, 105530, 105531, 105534, 105536, 105545, 105561, 105563, 105565, 105566, 105581, 105583, 105585, 105587, 105596, 105601, 105610, 105611, 105626, 105630, 105656, 105676, 105697, 105774, 105778, 105827, 105847, 105854, 105862, 105877, 105879, 105889, 105890, 105895, 105905, 105938, 105953, 105956, 105960, 105974, 105979, 105990, 106014, 106021, 106033, 106037, 106038, 106039, 106040, 106050, 106066, 106069, 106073, 106081, 106094, 106143, 106145, 106153, 106169, 106179, 106183, 106184, 106192, 106201, 106204, 106219, 106222, 106230, 106232, 106238, 106241, 106248, 106252, 106253, 106254, 106255, 106258, 106259, 106262, 106270, 106273, 106275, 106285, 106287, 106300, 106304, 106306, 106307, 106308, 106312, 106313, 106319, 106322, 106332, 106358, 106362, 106365, 106370, 106373, 106380, 106382, 106383, 106388, 106389, 106397, 106398, 106400, 106402, 106404, 106406, 106414, 106417, 106426, 106434, 106437, 106443, 106445, 106448, 106450, 106454, 106466, 106470, 106517, 106520, 106525, 106525, 106530, 106536, 106538, 106539, 106540, 106541, 106542, 106551, 106553, 106553, 106554, 106556, 106564, 106568, 106586, 106590, 106614, 106634, 106636, 106638, 106640, 106641, 106643, 106655, 106667, 106669, 106676, 106679, 106681, 106695, 106701, 106705, 106724, 106738, 106787, 106811, 106823, 106826, 106828, 106833, 106834, 106856, 106862, 106866, 106867, 106882, 106887, 106890, 106901, 106915, 106936, 106976, 106977, 106978, 106979, 106980, 106983, 106985, 106991, 106992, 106993, 107008, 107011, 107017, 107025, 107037, 107046, 107047, 107050, 107056, 107057, 107061, 107077, 107084, 107095, 107140, 107158, 107161, 107184, 107188, 107206, 107209, 107215, 107224, 107226, 107247, 107262, 107268, 107271, 107281, 107330, 107399, 107403, 107421, 107423, 107474, 107516, 107541, 107542, 107558, 107561, 107573, 107677, 107737, 107742, 107768, 107780, 107791, 107796, 107797, 107806, 107812, 107813, 107815, 107816, 107838, 107856, 107883, 107935, 107943, 107946, 107948, 107961, 107966, 107978, 107987, 107988, 107991, 107993, 107995, 108004, 108005, 108006, 108009, 108016, 108036, 108048, 108049, 108050, 108051, 108054, 108055, 108056, 108060, 108061, 108063, 108066, 108070, 108075, 108077, 108078, 108079, 108080, 108082, 108087, 108089, 108091, 108101, 108104, 108140, 108163, 108171, 108183, 108212, 108216, 108243, 108249, 108252, 108255, 108256, 108259, 108268, 108273, 108280, 108281, 108288, 108289, 108290, 108291, 108294, 108299, 108300, 108304, 108306, 108309, 108310, 108312, 108314, 108319, 108320, 108321, 108324, 108325, 108326, 108328, 108329, 108331, 108332, 108333, 108334, 108335, 108336, 108337, 108338, 108340, 108341, 108342, 108343, 108344, 108346, 108347, 108348, 108349, 108350, 108354, 108355, 108356, 108357, 108358, 108359, 108360, 108362, 108363, 108364, 108365, 108366, 108367, 108369, 108371, 108372, 108373, 108374, 108375, 108376, 108377, 108378, 108379, 108380, 108381, 108382, 108383, 108384, 108385, 108387, 108388, 108389, 108391, 108392, 108393, 108394, 108395, 108396, 108397, 108398, 108400, 108401, 108402, 108403, 108404, 108405, 108406, 108407, 108409, 108410, 108411, 108412, 108413, 108414, 108415, 108416, 108417, 108419, 108421, 108422, 108424, 108425, 108426, 108427, 108428, 108429, 108430, 108431, 108432, 108433, 108435, 108436, 108438, 108439, 108440, 108442, 108443, 108444, 108445, 108446, 108448, 108450, 108451, 108452, 108453, 108454, 108456, 108457, 108459, 108460, 108461, 108462, 108464, 108466, 108467, 108467, 108468, 108470, 108471, 108471, 108472, 108473, 108473, 108474, 108474, 108475, 108476, 108477, 108478, 108479, 108480, 108482, 108483, 108484, 108485, 108486, 108487, 108488, 108489, 108489, 108490, 108491, 108494, 108495, 108497, 108500, 108501, 108502, 108505, 108508, 108518, 108519, 108522, 108532, 108536, 108563, 108574, 108610, 108611, 108615, 108621, 108655, 108656, 108658, 108659, 108662, 108663, 108664, 108667, 108668, 108670, 108671, 108676, 108697, 108698, 108703, 108776, 108792, 108808, 108819, 108821, 108829, 108833, 108834, 108838, 108840, 108845, 108850, 108851, 108853, 108861, 108864, 108865, 108869, 108875, 108882, 108883, 108884, 108886, 108887, 108888, 108889, 108891, 108893, 108895, 108897, 108907, 108915, 108927, 108941, 108971, 108979, 108982, 108983, 109018, 109045, 109138, 109145, 109146, 109154, 109283, 109335, 109350, 109354, 109359, 109366, 109368, 109376, 109394, 109400, 109403, 109410, 109411, 109427, 109454, 109522, 109558, 109592, 109617, 109629, 109632, 109635, 109643, 109650, 109651, 109654, 109657, 109659, 109660, 109719, 109724, 109725, 109726, 109728, 109730, 109736, 109738, 109742, 109744, 109745, 109747, 109748, 109749, 109751, 109752, 109754, 109756, 109785, 109792, 109798, 109802, 109818, 109884, 109908, 109940, 109941, 109947, 109957, 109971, 109991, 110011, 110062, 110066, 110067, 110070, 110073, 110074, 110077, 110078, 110079, 110080, 110084, 110086, 110091, 110108, 110110, 110120, 110130, 110140, 110147, 110161, 110161, 110162, 110166, 110171, 110173, 110177, 110185, 110197, 110200, 110215, 110292, 110301, 110313, 110314, 110333, 110433, 110441, 110447, 110454, 110456, 110457, 110458, 110459, 110460, 110461, 110464, 110465, 110466, 110470, 110472, 110475, 110476, 110477, 110478, 110479, 110488, 110489, 110490, 110493, 110499, 110509, 110517, 110526, 110526, 110530, 110530, 110531, 110535, 110535, 110537, 110622, 110718, 110759, 110759, 110824, 110831, 110831, 110862, 110917, 110920, 110920, 110927, 110927, 110930, 110935, 110942, 110942, 110969, 111060, 111066, 111073, 111078, 111081, 111083, 111083, 111162, 111169, 111186, 111193, 111193, 111194, 111195, 111196, 111197, 111198, 111199, 111201, 111202, 111203, 111204, 111205, 111206, 111207, 111208, 111208, 111210, 111211, 111212, 111212, 111213, 111214, 111214, 111215, 111216, 111216, 111217, 111218, 111219, 111220, 111222, 111223, 111224, 111224, 111225, 111226, 111227, 111228, 111230, 111231, 111234, 111235, 111236, 111237, 111238, 111241, 111242, 111243, 111245, 111246, 111247, 111249, 111250, 111251, 111252, 111253, 111254, 111255, 111256, 111257, 111259, 111261, 111263, 111264, 111265, 111266, 111270, 111271, 111273, 111274, 111275, 111276, 111277, 111278, 111280, 111281, 111282, 111283, 111286, 111288, 111289, 111290, 111294, 111297, 111299, 111299, 111300, 111302, 111305, 111307, 111310, 111312, 111313, 111314, 111315, 111315, 111316, 111317, 111318, 111319, 111324, 111326, 111328, 111328, 111329, 111330, 111331, 111332, 111333, 111334, 111335, 111335, 111336, 111336, 111337, 111337, 111338, 111338, 111339, 111339, 111340, 111340, 111341, 111342, 111343, 111344, 111345, 111345, 111347, 111348, 111349, 111349, 111350, 111350, 111351, 111351, 111352, 111352, 111354, 111354, 111355, 111355, 111357, 111357, 111358, 111358, 111359, 111359, 111360, 111361, 111362, 111363, 111363, 111364, 111365, 111365, 111366, 111366, 111367, 111367, 111368, 111369, 111369, 111371, 111371, 111372, 111372, 111373, 111373, 111375, 111376, 111377, 111379, 111380, 111381, 111386, 111388, 111405, 111406, 111408, 111412, 111419, 111419, 111423, 111423, 111430, 111436, 111437, 111438, 111438, 111443, 111447, 111449, 111451, 111453, 111457, 111459, 111461, 111462, 111463, 111464, 111465, 111466, 111467, 111468, 111479, 111480, 111481, 111482, 111488, 111488, 111489, 111490, 111493, 111498, 111499, 111503, 111504, 111505, 111507, 111508, 111508, 111509, 111509, 111510, 111510, 111511, 111511, 111512, 111512, 111513, 111513, 111514, 111514, 111516, 111518, 111518, 111519, 111520, 111521, 111522, 111522, 111523, 111524, 111525, 111528, 111528, 111530, 111531, 111534, 111535, 111536, 111536, 111537, 111537, 111538, 111538, 111543, 111543, 111566, 111571, 111574, 111576, 111578, 111578, 111581, 111582, 111587, 111587, 111588, 111589, 111590, 111590, 111592, 111592, 111593, 111593, 111594, 111609, 111611, 111615, 111626, 111626, 111630, 111635, 111638, 111641, 111645, 111646, 111650, 111650, 111653, 111659, 111661, 111662, 111664, 111667, 111668, 111672, 111678, 111678, 111681, 111685, 111688, 111695, 111698, 111699, 111701, 111702, 111702, 111705, 111709, 111710, 111712, 111715, 111717, 111719, 111720, 111721, 111722, 111723, 111724, 111726, 111726, 111727, 111727, 111728, 111729, 111730, 111731, 111732, 111733, 111739, 111740, 111743, 111744, 111745, 111746, 111751, 111752, 111754, 111758, 111758, 111760, 111761, 111762, 111764, 111766, 111790, 111796, 111797, 111798, 111799, 111801, 111802, 111803, 111804, 111806, 111807, 111808, 111825, 111826, 111834, 111835, 111836, 111837, 111845, 111862, 111871, 111873, 111874, 111874, 111879, 111879, 111884, 111884, 111888, 111889, 111889, 111891, 111893, 111897, 111901, 111909, 111919, 111919, 111922, 111922, 111935, 111969, 112002, 112006, 112006, 112013, 112047, 112047, 112048, 112066, 112070, 112070, 112072, 112072, 112073, 112073, 112074, 112074, 112076, 112076, 112081, 112081, 112082, 112085, 112088, 112092, 112096, 112096, 112106, 112106, 112107, 112107, 112108, 112108, 112111, 112111, 112112, 112112, 112113, 112113, 112115, 112117, 112117, 112118, 112119, 112122, 112122, 112125, 112128, 112129, 112130, 112133, 112135, 112137, 112138, 112138, 112140, 112140, 112142, 112142, 112148, 112151, 112152, 112153, 112153, 112155, 112155, 112159, 112161, 112164, 112165, 112166, 112167, 112169, 112170, 112171, 112173, 112173, 112174, 112175, 112176, 112177, 112180, 112182, 112182, 112184, 112187, 112188, 112189, 112191, 112193, 112195, 112196, 112197, 112199, 112200, 112201, 112202, 112203, 112205, 112206, 112210, 112211, 112212, 112213, 112213, 112214, 112215, 112216, 112217, 112219, 112220, 112220, 112223, 112226, 112229, 112231, 112233, 112233, 112238, 112249, 112250, 112255, 112255, 112256, 112258, 112258, 112259, 112259, 112260, 112260, 112261, 112261, 112263, 112264, 112264, 112265, 112268, 112268, 112269, 112272, 112273, 112273, 112278, 112278, 112280, 112281, 112281, 112285, 112286, 112290, 112291, 112292, 112294, 112295, 112296, 112296, 112297, 112298, 112301, 112302, 112303, 112303, 112307, 112307, 112308, 112310, 112310, 112311, 112312, 112312, 112313, 112313, 112315, 112316, 112318, 112319, 112324, 112325, 112326, 112327, 112328, 112328, 112329, 112337, 112339, 112348, 112358, 112359, 112359, 112360, 112361, 112377, 112378, 112380, 112381, 112383, 112383, 112384, 112384, 112385, 112385, 112386, 112386, 112387, 112388, 112389, 112390, 112391, 112392, 112394, 112395, 112398, 112400, 112403, 112404, 112405, 112407, 112408, 112421, 112424, 112442, 112462, 112463, 112492, 112492, 112493, 112493, 112495, 112503, 112504, 112505, 112519, 112522, 112524, 112525, 112529, 112532, 112534, 112534, 112537, 112539, 112554, 112555, 112556, 112559, 112560, 112561, 112587, 112588, 112594, 112597, 112608, 112614, 112615, 112628, 112632, 112637, 112638, 112642, 112643, 112647, 112649, 112652, 112659, 112660, 112664, 112672, 112679, 112689, 112697, 112706, 112706, 112708, 112709, 112709, 112712, 112716, 112717, 112718, 112720, 112721, 112723, 112729, 112729, 112731, 112731, 112732, 112732, 112737, 112738, 112755, 112756, 112756, 112759, 112764, 112765, 112767, 112769, 112773, 112775, 112777, 112779, 112781, 112781, 112782, 112788, 112789, 112794, 112796, 112798, 112798, 112802, 112802, 112803, 112803, 112819, 112867, 112876, 112877, 112878, 112880, 112882, 112891, 112894, 112894, 112895, 112898, 112898, 112899, 112900, 112900, 112903, 112915, 112920, 112928, 112928, 112937, 112938, 112955, 112961, 112967, 113003, 113005, 113005, 113006, 113011, 113015, 113021, 113023, 113024, 113026, 113069, 113069, 113087, 113089, 113089, 113091, 113092, 113096, 113096, 113101, 113101, 113102, 113102, 113107, 113113, 113114, 113114, 113122, 113126, 113145, 113145, 113147, 113148, 113149, 113152, 113153, 113155, 113155, 113160, 113160, 113161, 113162, 113165, 113167, 113168, 113168, 113174, 113174, 113175, 113175, 113176, 113178, 113183, 113196, 113199, 113210, 113213, 113215, 113216, 113220, 113228, 113243, 113251, 113262, 113262, 113265, 113265, 113267, 113267, 113268, 113268, 113270, 113270, 113271, 113271, 113275, 113275, 113276, 113277, 113278, 113280, 113281, 113281, 113284, 113284, 113285, 113285, 113294, 113294, 113297, 113314, 113314, 113327, 113328, 113345, 113353, 113354, 113363, 113363, 113373, 113376, 113391, 113391, 113396, 113398, 113417, 113418, 113420, 113425, 113426, 113432, 113435, 113437, 113439, 113439, 113441, 113441, 113442, 113443, 113444, 113444, 113446, 113447, 113447, 113448, 113448, 113450, 113450, 113451, 113451, 113452, 113453, 113453, 113454, 113454, 113456, 113456, 113457, 113457, 113458, 113458, 113460, 113460, 113463, 113463, 113490, 113492, 113493, 113501, 113501, 113503, 113503, 113504, 113504, 113512, 113513, 113513, 113514, 113514, 113518, 113525, 113538, 113539, 113540, 113541, 113542, 113542, 113543, 113543, 113545, 113545, 113547, 113547, 113550, 113553, 113553, 113555, 113557, 113564, 113572, 113573, 113574, 113585, 113592, 113595, 113600, 113603, 113603, 113608, 113617, 113617, 113624, 113651, 113652, 113652, 113655, 113693, 113700, 113740, 113745, 113746, 113752, 113757, 113758, 113786, 113789, 113866, 113879, 113899, 113946, 113948, 113949, 113950, 113950, 113951, 113951, 113953, 113957, 113969, 113969, 232421, 256726, 262298, 262298, 262317, 262320, 262325, 262325, 262326, 262334, 262421, 263518, 263853, 263854, 263863, 263865, 263920, 263923, 263926, 263927, 263930, 263934, 263936, 263957, 263965, 263970, 264474, 264484, 264506, 264515, 264515, 264520, 264599, 264602, 264605, 264606, 264609, 264609, 264612, 264616, 264643, 265700, 266708, 266825, 269463, 269469, 269473, 269473, 269785, 269786, 269787, 269796, 269797, 269797, 269802, 269804, 269807, 269810, 269814, 269815, 269818, 269822, 269823, 269828, 269836, 269851, 269858, 269861, 269862, 269863, 269865, 269872, 277894, 292127, 292164, 292165, 292229, 295245, 295247, 295248, 296106, 296106, 296241, 297103, 297105, 297411, 301884, 301885, 302540, 302542, 302542, 302543, 303429, 304008, 311312, 312010, 312010, 312293, 312444, 312444, 312445, 312445, 312448, 312448, 312451, 312451, 312453, 312453, 312850, 312850, 312869, 312973, 313162, 315345, 320708, 320862, 321982, 322147, 327941, 327941, 328961, 328961, 329101, 329249, 330890, 337376, 337387, 339246, 339246, 339623, 339623, 350658, 350658, 492306, 492811, 502531, 502844, 502847, 502850, 502850, 502851, 502851, 502857, 502874, 502878, 502878, 502888, 502890, 502892, 502896, 502898, 502900, 502900, 502901, 502909, 502910, 502911, 502914, 502916, 503127, 504485, 504486, 504518, 504518, 504519, 505791, 508580, 511521, 511521, 513702, 521701, 521708, 521710, 525025, 528706, 539459, 539459, 540206, 544837, 544837, 545728, 545728, 546305, 546305, 546545, 546870, 547105, 547105, 547789, 547973, 548301, 549122, 549235, 549835, 550126, 550958, 550958, 551042, 551316, 551550, 552169, 552190, 552238, 552785, 552887, 552887, 553167, 553366, 553589, 553778, 553989, 554081, 554114, 554183, 554368, 554929, 554933, 555078, 555199, 555263, 555470, 555474, 556170, 556235, 556350, 556358, 556484, 557439, 557714, 557734, 557744, 557749, 557830, 557856, 557923, 558036, 558036, 558535, 558670, 558926, 558979, 560129, 560204, 560204, 560272, 561108, 561277, 561394, 561466, 561625, 561881, 562387, 562398, 563021, 563189, 563215, 563276, 563375, 563375, 563674, 563674, 563789, 563789, 563814, 563814, 563826, 563826, 564392, 564406, 565924, 566219, 566235, 566286, 568588, 569946, 570463, 570464, 570498, 571692, 571731, 571733, 571747, 572010, 572021, 572024, 574663, 575769, 575874, 575878, 576073, 576153, 576223, 576264, 576264, 576298, 576298, 576365, 576426, 576523, 576633, 577154, 577271, 577385, 577387, 577402, 577447, 577754, 578972, 579688, 579767, 579963, 579971, 579973, 580889, 580910, 581020, 581144, 581265, 581292, 581297, 586116, 586799, 587108, 587462, 587840, 587884, 588540, 588544, 588545, 589008, 589013, 589466, 589473, 589670, 589811, 589826, 589906, 589908, 589922, 589930, 591460, 592015, 592035, 592159, 592277, 592293, 593087, 593124, 594304, 594371, 594736, 594746, 594795, 594813, 594814, 595236, 595251, 595276, 595278, 595523, 595558, 595728, 596616]
	
	start_urls = [
			'https://www.proptiger.com/app/v2/project-listing?selector={%22filters%22:{%22and%22:[{%22equal%22:{%22builderId%22:100018}},{%22equal%22:{%22builderId%22:100018}}]},%22paging%22:{%22start%22:0,%22rows%22:15}}'
			]
	allowed_domains = ["www.proptiger.com"]
	rules = (Rule(LinkExtractor(deny=(), allow=('http://www.proptiger.com/'), ), callback='parse', follow=True, ),)
	custom_settings = {
			'DEPTH_LIMIT': 10000,
			'DOWNLOAD_DELAY': 2
		}

	i = 0
	def parse(self, response):
		jr = response.body
		jd = json.loads(jr)
		handle_http_list = [500]
		path = jd["data"]["items"]
		base_url = "https://www.proptiger.com/"
		max_page = int(jd["totalCount"])
		cur_page = int(response.url.split(',')[2].split('start')[1].split(':')[1])
		cur_page1 = cur_page + 15
		page_num =str(cur_page1)
		
		for i in range(0,len(path)):
			if (i+cur_page) == (max_page):
				break
			item = BuilderprojectsItem()
			count = path[i]['properties']
			c = len(count)
			for j in range(0,c):
			
				item['name_lister'] = 'None'
				item['data_id'] = path[i]['properties'][j]['propertyId']
				item['config_type'] = str(path[i]['properties'][j]['bedrooms']) + "BHK"
				item['property_type'] = path[i]['properties'][j]['unitType']

				item['txn_type'] = "sale"
				dt1 = path[i]['properties'][j]['createdAt']
				number = int(dt1) * 0.001
				dt2 = time.strftime('%m/%d/%Y %H:%M:%S', time.gmtime(number))
				item['listing_date'] = dt2
				dt5 = path[i]['properties'][j]['updatedAt']
				number = int(dt5) * 0.001
				dt2 = time.strftime('%m/%d/%Y %H:%M:%S', time.gmtime(number))
				item['updated_date'] = dt2
				
				try:
					dt1 = path[i]['possessionDate']
					number3 = int(dt1) * 0.001
					dt2 = time.strftime('%m/%d/%Y %H:%M:%S', time.gmtime(number3))				

					item['Possession'] = str(dt2)
				except:
					item['Possession'] = '0'
			
				try:
					item['lat'] = path[i]['latitude']
				except KeyError :
					item['lat'] = path[i]['locality']['suburb']['city']['centerLatitude']
				try:
					item['longt'] = path[i]['longitude']
				except KeyError:
					item['longt'] = path[i]['locality']['suburb']['city']['centerLongitude']

				item['Status'] = path[i]['projectStatus']
				item['listing_by'] = 'builder'
				try:
					item['name_lister'] = path[i]['builder']['name']
				except:
					item['name_lister'] = 'None'
				
				try:
					item['price_per_sqft'] = path[i]['locality']['avgPricePerUnitArea']
				except:
					item['price_per_sqft'] = '0'
					
				item['Building_name'] = path[i]['builder']['name']+' '+path[i]['name']
				if not path[i]['builder']['name']  in item['Building_name']:
					item['Building_name'] = path[i]['builder']['name']+' '+path[i]['name']
				item['address'] = path[i]['address']
				item['locality'] = path[i]['locality']['suburb']['label']
				item['sublocality'] = path[i]['locality']['label']
				item['city'] = path[i]['locality']['suburb']['city']['label']
				item['areacode'] = path[i]['localityId']
				
				try:
					item['Selling_price'] = str(path[i]['properties'][j]['budget'])
					item['Monthly_Rent'] = '0'
				except KeyError:
					try:
						item['Selling_price'] = str(path[i]['properties'][j]['resalePrice'])
						item['Monthly_Rent'] = '0'
					except KeyError:
						item['Selling_price'] = '0'
						item['Monthly_Rent'] = '0'
				try:
					item['Bua_sqft'] = path[i]['properties'][j]['size']
				except KeyError:
					item['Bua_sqft'] = "0"
				try:
					item['carpet_area'] = path[i]['properties'][j]['carpetArea']
				except KeyError:
					item['carpet_area'] = "0"
				item['platform'] = 'tigerprop'
				item['Details'] = 'None'
				item['Launch_date'] = '0'
				item['age'] = 'None'
				item['google_place_id'] = 'None'
				item['mobile_lister'] = 'None'
				item['management_by_landlord'] = 'None'
				if item['Selling_price'] == '0' and item['Monthly_Rent'] == '0':
					item['price_on_req'] = 'true'
				else:
					item['price_on_req'] = 'false'
				
				item['scraped_time'] = dt.now().strftime('%m/%d/%Y %H:%M:%S')

				if (((not item['Monthly_Rent'] == '0') and (not item['Bua_sqft']=='0') and (not item['Building_name']=='None') and (not item['lat']=='0')) or ((not item['Selling_price'] == '0') and (not item['Bua_sqft']=='0') and (not item['Building_name']=='None') and (not item['lat']=='0')) or ((not item['price_per_sqft'] == '0') and (not item['Bua_sqft']=='0') and (not item['Building_name']=='None') and (not item['lat']=='0'))):
					item['quality4'] = 1
				elif (((not item['price_per_sqft'] == '0') and (not item['Building_name']=='None') and (not item['lat']=='0')) or ((not item['Selling_price'] == '0') and (not item['Bua_sqft']=='0') and (not item['lat']=='0')) or ((not item['Monthly_Rent'] == '0') and (not item['Bua_sqft']=='0') and (not item['lat']=='0')) or ((not item['Selling_price'] == '0') and (not item['Bua_sqft']=='0') and (not item['Building_name']=='None')) or ((not item['Monthly_Rent'] == '0') and (not item['Bua_sqft']=='0') and (not item['Building_name']=='None'))):
					item['quality4'] = 0.5
				else:
					item['quality4'] = 0
				if ((not item['Building_name'] == 'None') and (not item['listing_date'] == '0') and (not item['txn_type'] == 'None') and (not item['property_type'] == 'None') and ((not item['Selling_price'] == '0') or (not item['Monthly_Rent'] == '0'))):
					item['quality1'] = 1
				else:
					item['quality1'] = 0
				if ((not item['Launch_date'] == '0') and (not item['Possession'] == '0')):
					item['quality2'] = 1
				else:
					item['quality2'] = 0
				if ((not item['mobile_lister'] == 'None') or (not item['listing_by'] == 'None') or (not item['name_lister'] == 'None')):
					item['quality3'] = 1
				else:
					item['quality3'] = 0
				yield item
		
		if (cur_page+15) < ( max_page):
			url = 'https://www.proptiger.com/app/v2/project-listing?selector={{%22filters%22:{{%22and%22:[{{%22equal%22:{{%22builderId%22:{x1}}}}},{{%22equal%22:{{%22builderId%22:{x1}}}}}]}},%22paging%22:{{%22start%22:{x},%22rows%22:15}}}}'.format(x=str(cur_page1),x1=str(self.names[self.i]))
			yield Request(url, callback=self.parse)
		elif self.i<len(self.names):
			self.i = self.i + 1
			next_url = 'https://www.proptiger.com/app/v2/project-listing?selector={{%22filters%22:{{%22and%22:[{{%22equal%22:{{%22builderId%22:{x1}}}}},{{%22equal%22:{{%22builderId%22:{x1}}}}}]}},%22paging%22:{{%22start%22:0,%22rows%22:15}}}}'.format(x1=str(self.names[self.i]))
			yield Request(next_url,callback=self.parse)